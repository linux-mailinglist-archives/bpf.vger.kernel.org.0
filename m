Return-Path: <bpf-owner@vger.kernel.org>
X-Original-To: lists+bpf@lfdr.de
Delivered-To: lists+bpf@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id A7A335E86F7
	for <lists+bpf@lfdr.de>; Sat, 24 Sep 2022 03:17:45 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S230079AbiIXBRo (ORCPT <rfc822;lists+bpf@lfdr.de>);
        Fri, 23 Sep 2022 21:17:44 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:59388 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229556AbiIXBRn (ORCPT <rfc822;bpf@vger.kernel.org>);
        Fri, 23 Sep 2022 21:17:43 -0400
Received: from szxga02-in.huawei.com (szxga02-in.huawei.com [45.249.212.188])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 0B43413D865
        for <bpf@vger.kernel.org>; Fri, 23 Sep 2022 18:17:38 -0700 (PDT)
Received: from kwepemi500012.china.huawei.com (unknown [172.30.72.55])
        by szxga02-in.huawei.com (SkyGuard) with ESMTP id 4MZ9y83wbFzWh6G;
        Sat, 24 Sep 2022 09:13:36 +0800 (CST)
Received: from [10.67.110.176] (10.67.110.176) by
 kwepemi500012.china.huawei.com (7.221.188.12) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2375.31; Sat, 24 Sep 2022 09:17:35 +0800
Subject: Re: [PATCH] bpf: Remove obsolete iterators_bpf__open_and_load()
To:     Alexei Starovoitov <alexei.starovoitov@gmail.com>
CC:     Alexei Starovoitov <ast@kernel.org>,
        Daniel Borkmann <daniel@iogearbox.net>,
        Andrii Nakryiko <andrii@kernel.org>,
        Martin KaFai Lau <martin.lau@linux.dev>,
        Song Liu <song@kernel.org>, Yonghong Song <yhs@fb.com>,
        John Fastabend <john.fastabend@gmail.com>,
        KP Singh <kpsingh@kernel.org>,
        Stanislav Fomichev <sdf@google.com>,
        Hao Luo <haoluo@google.com>, Jiri Olsa <jolsa@kernel.org>,
        bpf <bpf@vger.kernel.org>
References: <20220923093509.521560-1-cuigaosheng1@huawei.com>
 <CAADnVQJu0tRMX1==kbDvmddhXsj5i4BB=WdX+CpmtmVtS5N2Ug@mail.gmail.com>
From:   cuigaosheng <cuigaosheng1@huawei.com>
Message-ID: <d59351e2-b202-d5a6-799c-35270e14fce2@huawei.com>
Date:   Sat, 24 Sep 2022 09:17:34 +0800
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101
 Thunderbird/78.6.1
MIME-Version: 1.0
In-Reply-To: <CAADnVQJu0tRMX1==kbDvmddhXsj5i4BB=WdX+CpmtmVtS5N2Ug@mail.gmail.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 8bit
X-Originating-IP: [10.67.110.176]
X-ClientProxiedBy: dggems705-chm.china.huawei.com (10.3.19.182) To
 kwepemi500012.china.huawei.com (7.221.188.12)
X-CFilter-Loop: Reflected
X-Spam-Status: No, score=-4.2 required=5.0 tests=BAYES_00,NICE_REPLY_A,
        RCVD_IN_DNSWL_MED,SPF_HELO_NONE,SPF_PASS autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <bpf.vger.kernel.org>
X-Mailing-List: bpf@vger.kernel.org

> Top of this file says:
> /* THIS FILE IS AUTOGENERATED! */
>
> Please do NOT send such patches for it.

It's my negligenceï¼Œthanks for taking the time to review this patch!

On 2022/9/23 22:31, Alexei Starovoitov wrote:
> On Fri, Sep 23, 2022 at 2:35 AM Gaosheng Cui <cuigaosheng1@huawei.com> wrote:
>> Commit cb80ddc67152 ("bpf: Convert bpf_preload.ko to use light
>> skeleton.") drops the last caller of generic_free_nodedata(),
>> it is useless, so remove it.
>>
>> Signed-off-by: Gaosheng Cui <cuigaosheng1@huawei.com>
>> ---
>>   kernel/bpf/preload/iterators/iterators.lskel.h | 15 ---------------
>>   1 file changed, 15 deletions(-)
>>
>> diff --git a/kernel/bpf/preload/iterators/iterators.lskel.h b/kernel/bpf/preload/iterators/iterators.lskel.h
>> index 70f236a82fe1..e5f9c608f7f7 100644
>> --- a/kernel/bpf/preload/iterators/iterators.lskel.h
>> +++ b/kernel/bpf/preload/iterators/iterators.lskel.h
>> @@ -407,19 +407,4 @@ iterators_bpf__load(struct iterators_bpf *skel)
>>          return 0;
>>   }
>>
>> -static inline struct iterators_bpf *
>> -iterators_bpf__open_and_load(void)
>> -{
>> -       struct iterators_bpf *skel;
>> -
>> -       skel = iterators_bpf__open();
>> -       if (!skel)
>> -               return NULL;
>> -       if (iterators_bpf__load(skel)) {
>> -               iterators_bpf__destroy(skel);
>> -               return NULL;
>> -       }
>> -       return skel;
>> -}
>> -
> Top of this file says:
> /* THIS FILE IS AUTOGENERATED! */
>
> Please do NOT send such patches for it.
> .
