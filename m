Return-Path: <bpf-owner@vger.kernel.org>
X-Original-To: lists+bpf@lfdr.de
Delivered-To: lists+bpf@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id EC9786B5963
	for <lists+bpf@lfdr.de>; Sat, 11 Mar 2023 09:02:22 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S229577AbjCKICU (ORCPT <rfc822;lists+bpf@lfdr.de>);
        Sat, 11 Mar 2023 03:02:20 -0500
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:47328 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229729AbjCKICT (ORCPT <rfc822;bpf@vger.kernel.org>);
        Sat, 11 Mar 2023 03:02:19 -0500
Received: from FRA01-MR2-obe.outbound.protection.outlook.com (mail-mr2fra01on2050.outbound.protection.outlook.com [40.107.9.50])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 87BE1127138
        for <bpf@vger.kernel.org>; Sat, 11 Mar 2023 00:02:17 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=cT+XtNw/slt5CeJfu4h+Xbp+HmLjcOvnHNVCf1BqjkViM4DwVDlxKP6ueK5ti+UP6zDcsmHerYDh78yj4h9u27YVG/PgWx9poU5Jc76ZaDxUnp0pNNlkwe6gytC/pJRxuaM2tS+D6D1Nd7fV9ViB9AewknIich+k39hWiFlJPqZy7HGk3D/qgUMbEMz2SOfTTQCeiFp8eN69G27ZHmw4PnUnsR+SDY7/sZPyqNZS+1Fu+aPVSnFqgk2kYeohWzFUP7lic4N6j2jzioIrNN5NpVGHu4Lt3W45wLO8al06nSHLfewotR2pyiH/kvGj+er1Juz6djPdeSjd6u2VVzF0sg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=lPqSz70O8Sxik4tbDnBk6bUIdaDWglrgAR3x2cr61Zw=;
 b=gkAb1hC01BfFO02Y7UxHkiW+g+uWeTu75cLLFgRTN9lrmUxQ1t3LZ/6ZyeN5/k1ngOirwuKcGlwWKYze2kTefc2CgJLcn8e/+eiNxahHPC5+m340uAQEqG2L/HjwGqLxAl/MSosDxpHRzwFERKxIWHnbeWJKEd01OuJQHxUhTAxVlDUUDv/VpTqTZ2Wwv4l4oFkLgM+1QumVojzJF+YRTTRPoqcmtTJlz0zslloFURbXpqdQpPdUfVtW+I/cOVw7L7YWpUJ9iuR7Y9o8KSCyrZlXGZHfhTKAm1Z2NWOxQZkTr5+IML0iCDAIr+u+QLxJTIKa0BLOryAxqytu19c+DA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=csgroup.eu; dmarc=pass action=none header.from=csgroup.eu;
 dkim=pass header.d=csgroup.eu; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=csgroup.eu;
 s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=lPqSz70O8Sxik4tbDnBk6bUIdaDWglrgAR3x2cr61Zw=;
 b=RHYHy5u7XfEitSZoI5k5vXPGWVYinapo7iAAVaL2m5FpRvq7+tTxvNzjMtNbI+PQMxcB1Pe2Lc+Cy3nogmqA/drhuq7qYUbiBEuV/GKpBprDKDyeNQzdS7PuukqTJ6AtaM8BYxh4AuDPFblLs7XubXuKtUBYFSn6IUsn73NPs4lTxyuMwOm1l913AaM8qfqXO1vEcs60IK3vwTXrThW+86YT9ri1HEMmeZRPsPSRqiXsL+ddB0pNZ74/Y2FqfDCQeTLtFssdIeCc1wTFFX3oPkjxWq7UDT264VHrz9nuAoZrhYFKUsXeyYPwuwgecUNPZxMf1XpIVHrrexB3+WONgg==
Received: from MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM (2603:10a6:501:31::15)
 by PR1P264MB1536.FRAP264.PROD.OUTLOOK.COM (2603:10a6:102:1b6::21) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6178.22; Sat, 11 Mar
 2023 08:02:13 +0000
Received: from MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM
 ([fe80::3943:154a:eccc:fe3a]) by MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM
 ([fe80::3943:154a:eccc:fe3a%7]) with mapi id 15.20.6178.022; Sat, 11 Mar 2023
 08:02:13 +0000
From:   Christophe Leroy <christophe.leroy@csgroup.eu>
To:     Hari Bathini <hbathini@linux.ibm.com>,
        linuxppc-dev <linuxppc-dev@lists.ozlabs.org>,
        "bpf@vger.kernel.org" <bpf@vger.kernel.org>
CC:     Michael Ellerman <mpe@ellerman.id.au>,
        "Naveen N. Rao" <naveen.n.rao@linux.ibm.com>,
        Alexei Starovoitov <ast@kernel.org>,
        Daniel Borkmann <daniel@iogearbox.net>,
        Andrii Nakryiko <andrii@kernel.org>,
        Song Liu <songliubraving@fb.com>
Subject: Re: [PATCH v2 1/4] powerpc/code-patching: introduce
 patch_instructions()
Thread-Topic: [PATCH v2 1/4] powerpc/code-patching: introduce
 patch_instructions()
Thread-Index: AQHZUrFQDrsIHyWY3ESw1VPTGTv4cK71OjCA
Date:   Sat, 11 Mar 2023 08:02:13 +0000
Message-ID: <d23309b1-7f00-148d-fc03-d8aa82874778@csgroup.eu>
References: <20230309180213.180263-1-hbathini@linux.ibm.com>
 <20230309180213.180263-2-hbathini@linux.ibm.com>
In-Reply-To: <20230309180213.180263-2-hbathini@linux.ibm.com>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101
 Thunderbird/102.8.0
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=csgroup.eu;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: MRZP264MB2988:EE_|PR1P264MB1536:EE_
x-ms-office365-filtering-correlation-id: 7a86be6c-a9c7-4888-c09a-08db2206ec8d
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 3QwmdXKV+szyJqL0Dw17FSUWEw6tr57tj2ZUMFYU2pujM/ironfQlJ2eBpSK5McBML/TJbuP+iPGEhYKmhuJx0YY8zU3YDOjTWnqquoJj6dPgGW3jlh2asuCdiSgq/senIXGA0BBdkrmZlneJBNa16MNRK9Rrzqk5vdkS88O3DPfvqHyojosXVLmT+BRs/dshuKGgBgpb/aavgVCtVRK53B6pkH/mCTYXwVFMGPbHs8Gy4bhmN+ELMG5LHDsHcUYarnF4MVhcdcV6uALkRhzkKeQCG+LrMxULa5CZWtaYchxtYo4hmv6Sxd1CASdSLf1TachRRdW/ZkRwNjPbba5XUDHEusVsxlGmYEQ/Bmn687Iagmp2cglzspYcLDNOgscPybf4zdIS8gf9gETVfSQpfgldtSYpSWMxGSjR/Wywaxvp4ZbjR/MQe1IT6Axi8FVxIrp6pkxF8WlS1z/oltzQNLABALjHOwq01CggrT4W5j/V73pZ0yIY+eKWlvsVBY+nTq43CdpamLR3Pew8xwUuQ+KXFFVLydSU01IghCaMOfvXl/eBgrIMIVKzJcuEpIoJ3Fqqq7UkTTCj4xpNDm25oM0LSmCEq8iJbeBLPa8Z5vr8AlrPu5Np5QCjVEtSr8+Cw04yGInbPrGRgLjbIDnrESoMwWPjMcrHyaIT8d1cRuhUBX+ZwDcfuEemzrX01kXwFcBprxFvKp80vVZWr4/G/nacT63uoAoaWN+0q8M0cHdKWp8iLR75qhbyg6AUdyR
x-forefront-antispam-report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM;PTR:;CAT:NONE;SFS:(13230025)(4636009)(39850400004)(136003)(346002)(376002)(396003)(366004)(451199018)(64756008)(66446008)(66476007)(66556008)(66946007)(76116006)(4326008)(36756003)(83380400001)(91956017)(31686004)(66574015)(38100700002)(122000001)(41300700001)(2616005)(44832011)(316002)(38070700005)(8936002)(6512007)(6506007)(186003)(54906003)(110136005)(26005)(8676002)(71200400001)(6486002)(478600001)(2906002)(86362001)(5660300002)(31696002)(45980500001)(43740500002);DIR:OUT;SFP:1101;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?aXc2bENCalBmaHM5cHN0YkhwYjVSVW5EenlUZFJNbGFuWjVKdzNVQ0F6eWtw?=
 =?utf-8?B?bHFkQ25qdUdSVWVqNXZEMUliTnI0aGxwUUZibGRBbkkveS9ieUdTMnlnQ3p1?=
 =?utf-8?B?YUZOUWNoQU1kUy9PTXREN2gxR01xQWpwY2NydnJCa3VMWGE2L3lQVUtiOXZs?=
 =?utf-8?B?UlVQckZyWUNPb3BNV1V0Q25jblV0R1FLeEZZa3llY0FVTmViTjJFM0RnSkJP?=
 =?utf-8?B?VWJCemZrblRKUkNPQ1pYNTkrako3UThRbHNhUGlSSVc5eGlHbHNtUGRQTndI?=
 =?utf-8?B?U20zVlhtdVJPZzMrOUVPSGJ3ZFJDMUlTZlZERWdWMHFGeTZBZk4wR3czNGp1?=
 =?utf-8?B?akRROStaUmkxQjNUanlXSkRXVXBUQk80NXFhU3EyeTFlN09MK3Q0VXp4RWFv?=
 =?utf-8?B?THNxQ2hGSCtKTmtVTjhSQjZwMmtYaCtuTlVTQXV2OFBOSVF0RXdKN2pqU2k0?=
 =?utf-8?B?bmhYejg3Q0s0UGJKUjJCdkdpcjBQVjl0RW1FbFkrQ2I1U3dUdG5PWEcreEZP?=
 =?utf-8?B?Y2UvN1ZNUHcrWk9iK1I2Q0JXNHpKYmY3c1AzQ25XamdncVQ3cUNtMW1yU00y?=
 =?utf-8?B?eE9ETEJqQmNMV2hlOTN6QzBacHNzN25OM1F5elJYdTB3ZUsyQjE0aEdIWTcy?=
 =?utf-8?B?bGRjS3YvbDdXZ0VqWUFRc1ZxZldONUN2bGlnUVRZcm05bTNhUlZIUWtpWmw5?=
 =?utf-8?B?QkxjTHhXc3doQ25kSUVBK1hidUduRk8rbVNWZUFzQklPTXBlZlZscW1FNnAx?=
 =?utf-8?B?ZHFQMDgzWld3OUtVSDArY2pPNTY1NFRNQVA0clZ1ZmUyeUhZVzkybW43TUFn?=
 =?utf-8?B?UTZseitqbXh0QllRa3B3clJLMHM1WFhyWlRYTXBnTGxmWUs3a3Babi9XVnQr?=
 =?utf-8?B?WUtRVTRlNlNTNDVFU0x2N2pGWWNIUkxnZ0oxdDQzby9XZ2c3dVdOTi9mcXI4?=
 =?utf-8?B?Y0JwS0VQUUx5MlI5eE8vaEYzTlkwcDRZZCt4R3pEYlZyeFFwZENmS1A0VGlY?=
 =?utf-8?B?b3BtN0xxSzR1VXJkTGlQRDFTSVRTQ2x0bEZRUG1WMXVESUZEYUdvdUxJSEU3?=
 =?utf-8?B?QjYydHNYSUZLL0ZQM0RCbCtSMjhQQlNBVXVobjJZOSt3MXdVMVdOUER6K3A2?=
 =?utf-8?B?eFpVZ0VYNzJWQmpOQWRhdlZBeXQyMktXTnJpVmpqVitrOG1nTXNQaU5rU1k4?=
 =?utf-8?B?ekhGZjRoL0V6UDZtaFlpTC9CMWJRZVkya2NHL1pSY3VIYzJpeEcxbUJDdlNJ?=
 =?utf-8?B?SzVCK2Z6UlhsV01abnNqMU4waDB2L2lzUnh2UVhlbkVaV25uSWZKa0xnb0tJ?=
 =?utf-8?B?bHAzOG5HVWQ1YWcxN0FGQVhuVUlrU3FZczdPRW9WaXB0Qld3TkhQczZBQ1gz?=
 =?utf-8?B?ZXBMVmhDUXZSOHhxd3oyM0d2ODlwYW50QTJqOWZORnd6aDZaUlZpczFlWHUz?=
 =?utf-8?B?QjdrckxpSWhiU3NZNXNCVHZDTjFjQXFKODE2SkczaHJ1WXV0T2cxVTlkTjEr?=
 =?utf-8?B?Kzd0SlVPSjZIUGIrbFhiVEZYSDhUM3d0L0ZDRmdvdUYxOFpBbDB2S1YzYWxa?=
 =?utf-8?B?TVRxM2ltWHAxWUhNbmlUdUtLd1pUTjlLTVdmbGx3T0trK0V0OVRmdk5rVFNl?=
 =?utf-8?B?SVNwMDJ4U3E1RGFVWk9uQlM5OHFRRU9BRFlXaEtsWHFyQndtOWF4bzQxZWVt?=
 =?utf-8?B?OXBvL3JTa3M2Mm55aHpZeVp1R2pTeXhlV0J2MUM0bWZvNXVIT3RNWlZwWWFu?=
 =?utf-8?B?ZncrclZkd0JnNE1INGlxVFRNU2RlY1JaZ3VWM3JsTEtkZFdPTFJKZjcyaXBI?=
 =?utf-8?B?eEExRDc1VEZQQ3lWdHlUU0NTaVNybkR5UWpzTi8vVlVXb2dRQk41S0Zaek4x?=
 =?utf-8?B?K3pjenA2SGdTRG1oZjNDVzVTSlg3dC9EQ2dUODZFcHFYcWRDcEZGZ0RqK0tC?=
 =?utf-8?B?bnlWN1NPYmcwUFoxK1BDRkpUTmFTRmRkWVpuOW1tc25lSS94aWs1MW5uY25w?=
 =?utf-8?B?QTNyMG9QeFNpVW44RUZZbnk1RkJWQXFITmVNZ0FpMHozT0xQMDZmYmdEVEV4?=
 =?utf-8?B?ellJTCtQSFp0d3p5eVdHdG8wNGwwQUd6ODVScEVpeG1wS0Q5anpRSGUzN2s1?=
 =?utf-8?B?WnBRWTRtbGZUSnA0SmdJbUVXWm5nUktMcEgvUkZPVzBGWXdzbWdVajlZYjVq?=
 =?utf-8?B?MEE9PQ==?=
Content-Type: text/plain; charset="utf-8"
Content-ID: <8922BAD7026ACA48841AC6972129F766@FRAP264.PROD.OUTLOOK.COM>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: csgroup.eu
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM
X-MS-Exchange-CrossTenant-Network-Message-Id: 7a86be6c-a9c7-4888-c09a-08db2206ec8d
X-MS-Exchange-CrossTenant-originalarrivaltime: 11 Mar 2023 08:02:13.6449
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 9914def7-b676-4fda-8815-5d49fb3b45c8
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: tr28CqiOGbhXoBcqwYR8MvEC8sgadgPs6CWqNvXlj5C6chtaKMxGQg5a8bR6PIoUry4JwyYyy4RMxVgOoZbWLdob9TTn0fZ4pWqHvamLPIw=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: PR1P264MB1536
X-Spam-Status: No, score=-2.1 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,NICE_REPLY_A,RCVD_IN_DNSWL_NONE,
        RCVD_IN_MSPIKE_H2,SPF_HELO_PASS,SPF_PASS,URIBL_BLOCKED autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <bpf.vger.kernel.org>
X-Mailing-List: bpf@vger.kernel.org

DQoNCkxlIDA5LzAzLzIwMjMgw6AgMTk6MDIsIEhhcmkgQmF0aGluaSBhIMOpY3JpdMKgOg0KPiBw
YXRjaF9pbnN0cnVjdGlvbigpIGVudGFpbHMgc2V0dGluZyB1cCBwdGUsIHBhdGNoaW5nIHRoZSBp
bnN0cnVjdGlvbiwNCj4gY2xlYXJpbmcgdGhlIHB0ZSBhbmQgZmx1c2hpbmcgdGhlIHRsYi4gSWYg
bXVsdGlwbGUgaW5zdHJ1Y3Rpb25zIG5lZWQNCj4gdG8gYmUgcGF0Y2hlZCwgZXZlcnkgaW5zdHJ1
Y3Rpb24gd291bGQgaGF2ZSB0byBnbyB0aHJvdWdoIHRoZSBhYm92ZQ0KPiBkcmlsbCB1bm5lY2Vz
c2FyaWx5LiBJbnN0ZWFkLCBpbnRyb2R1Y2UgZnVuY3Rpb24gcGF0Y2hfaW5zdHJ1Y3Rpb25zKCkN
Cj4gdGhhdCBwYXRjaGVzIG11bHRpcGxlIGluc3RydWN0aW9ucyBhdCBvbmUgZ28gd2hpbGUgc2V0
dGluZyB1cCB0aGUgcHRlLA0KPiBjbGVhcmluZyB0aGUgcHRlIGFuZCBmbHVzaGluZyB0aGUgdGxi
IG9ubHkgb25jZSBwZXIgcGFnZSByYW5nZSBvZg0KPiBpbnN0cnVjdGlvbnMuIE9ic2VydmVkIH41
WCBpbXByb3ZlbWVudCBpbiBzcGVlZCBvZiBleGVjdXRpb24gdXNpbmcNCj4gcGF0Y2hfaW5zdHJ1
Y3Rpb25zKCkgb3ZlciBwYXRjaF9pbnN0cnVjdGlvbnMoKSwgd2hlbiBtb3JlIGluc3RydWN0aW9u
cw0KPiBhcmUgdG8gYmUgcGF0Y2hlZC4NCj4gDQo+IFNpZ25lZC1vZmYtYnk6IEhhcmkgQmF0aGlu
aSA8aGJhdGhpbmlAbGludXguaWJtLmNvbT4NCj4gLS0tDQo+ICAgYXJjaC9wb3dlcnBjL2luY2x1
ZGUvYXNtL2NvZGUtcGF0Y2hpbmcuaCB8ICAgMSArDQo+ICAgYXJjaC9wb3dlcnBjL2xpYi9jb2Rl
LXBhdGNoaW5nLmMgICAgICAgICB8IDE1MSArKysrKysrKysrKysrKysrLS0tLS0tLQ0KPiAgIDIg
ZmlsZXMgY2hhbmdlZCwgMTA2IGluc2VydGlvbnMoKyksIDQ2IGRlbGV0aW9ucygtKQ0KPiANCj4g
ZGlmZiAtLWdpdCBhL2FyY2gvcG93ZXJwYy9pbmNsdWRlL2FzbS9jb2RlLXBhdGNoaW5nLmggYi9h
cmNoL3Bvd2VycGMvaW5jbHVkZS9hc20vY29kZS1wYXRjaGluZy5oDQo+IGluZGV4IDNmODgxNTQ4
ZmI2MS4uMDU5ZmM0ZmU3MDBlIDEwMDY0NA0KPiAtLS0gYS9hcmNoL3Bvd2VycGMvaW5jbHVkZS9h
c20vY29kZS1wYXRjaGluZy5oDQo+ICsrKyBiL2FyY2gvcG93ZXJwYy9pbmNsdWRlL2FzbS9jb2Rl
LXBhdGNoaW5nLmgNCj4gQEAgLTc0LDYgKzc0LDcgQEAgaW50IGNyZWF0ZV9jb25kX2JyYW5jaChw
cGNfaW5zdF90ICppbnN0ciwgY29uc3QgdTMyICphZGRyLA0KPiAgIGludCBwYXRjaF9icmFuY2go
dTMyICphZGRyLCB1bnNpZ25lZCBsb25nIHRhcmdldCwgaW50IGZsYWdzKTsNCj4gICBpbnQgcGF0
Y2hfaW5zdHJ1Y3Rpb24odTMyICphZGRyLCBwcGNfaW5zdF90IGluc3RyKTsNCj4gICBpbnQgcmF3
X3BhdGNoX2luc3RydWN0aW9uKHUzMiAqYWRkciwgcHBjX2luc3RfdCBpbnN0cik7DQo+ICtpbnQg
cGF0Y2hfaW5zdHJ1Y3Rpb25zKHUzMiAqYWRkciwgdTMyICpjb2RlLCBib29sIGZpbGxfaW5zdCwg
c2l6ZV90IGxlbik7DQo+ICAgDQo+ICAgc3RhdGljIGlubGluZSB1bnNpZ25lZCBsb25nIHBhdGNo
X3NpdGVfYWRkcihzMzIgKnNpdGUpDQo+ICAgew0KPiBkaWZmIC0tZ2l0IGEvYXJjaC9wb3dlcnBj
L2xpYi9jb2RlLXBhdGNoaW5nLmMgYi9hcmNoL3Bvd2VycGMvbGliL2NvZGUtcGF0Y2hpbmcuYw0K
PiBpbmRleCBiMDAxMTJkN2FkNDYuLjMzODU3YjliNTNkZSAxMDA2NDQNCj4gLS0tIGEvYXJjaC9w
b3dlcnBjL2xpYi9jb2RlLXBhdGNoaW5nLmMNCj4gKysrIGIvYXJjaC9wb3dlcnBjL2xpYi9jb2Rl
LXBhdGNoaW5nLmMNCj4gQEAgLTI3OCw3NyArMjc4LDExNyBAQCBzdGF0aWMgdm9pZCB1bm1hcF9w
YXRjaF9hcmVhKHVuc2lnbmVkIGxvbmcgYWRkcikNCj4gICAJZmx1c2hfdGxiX2tlcm5lbF9yYW5n
ZShhZGRyLCBhZGRyICsgUEFHRV9TSVpFKTsNCj4gICB9DQo+ICAgDQo+IC1zdGF0aWMgaW50IF9f
ZG9fcGF0Y2hfaW5zdHJ1Y3Rpb25fbW0odTMyICphZGRyLCBwcGNfaW5zdF90IGluc3RyKQ0KPiAr
c3RhdGljIGludCBfX2RvX3BhdGNoX2luc3RydWN0aW9uc19tbSh1MzIgKmFkZHIsIHUzMiAqY29k
ZSwgYm9vbCBmaWxsX2luc3QsIHNpemVfdCBsZW4pDQoNClNvbWUgdGltZSBhZ28gd2UgZGlkIGEg
aHVnZSB3b3JrIHRvIGNsZWFuIHVwIHVzZSBvZiB1MzIgYXMgY29kZSB2ZXJzdXMgDQpwcGNfaW5z
dF90Lg0KDQpQbGVhc2UgY2FyZWZ1bGx5IGF1ZGl0IGFsbCBwbGFjZXMgd2hlcmUgeW91IHVzZSB1
MzIgaW5zdGVhZCBvZiANCnBwY19pbnN0X3QuIElmIHlvdSBkbyBzbywgZG9uJ3QgdXNlIGFueW1v
cmUgdGhlIHdvcmQgJ2luc3RydWN0aW9uJyBpbiANCnRoZSBmdW5jdGlvbiBuYW1lLg0KDQo+ICAg
ew0KPiAtCWludCBlcnI7DQo+IC0JdTMyICpwYXRjaF9hZGRyOw0KPiAtCXVuc2lnbmVkIGxvbmcg
dGV4dF9wb2tlX2FkZHI7DQo+IC0JcHRlX3QgKnB0ZTsNCj4gLQl1bnNpZ25lZCBsb25nIHBmbiA9
IGdldF9wYXRjaF9wZm4oYWRkcik7DQo+IC0Jc3RydWN0IG1tX3N0cnVjdCAqcGF0Y2hpbmdfbW07
DQo+IC0Jc3RydWN0IG1tX3N0cnVjdCAqb3JpZ19tbTsNCj4gKwlzdHJ1Y3QgbW1fc3RydWN0ICpw
YXRjaGluZ19tbSwgKm9yaWdfbW07DQoNClRoaXMgY2hhbmdlIGlzIGNvc21ldGljIGFuZCBub3Qg
ZnVuY3Rpb25uYWx5IGxpa2VkIHRvIHRoZSBwYXRjaC4NCg0KPiArCXVuc2lnbmVkIGxvbmcgdGV4
dF9wb2tlX2FkZHIsIHBmbjsNCj4gKwl1MzIgKnBhdGNoX2FkZHIsICplbmQsICpwZW5kOw0KPiAr
CXBwY19pbnN0X3QgaW5zdHI7DQo+ICAgCXNwaW5sb2NrX3QgKnB0bDsNCj4gKwlpbnQgaWxlbiwg
ZXJyOw0KPiArCXB0ZV90ICpwdGU7DQoNCldoeSBtb3ZlIHRoaXMgZGVjbGFyYXRpb24gPw0KDQo+
ICAgDQo+ICAgCXBhdGNoaW5nX21tID0gX190aGlzX2NwdV9yZWFkKGNwdV9wYXRjaGluZ19jb250
ZXh0Lm1tKTsNCj4gICAJdGV4dF9wb2tlX2FkZHIgPSBfX3RoaXNfY3B1X3JlYWQoY3B1X3BhdGNo
aW5nX2NvbnRleHQuYWRkcik7DQo+IC0JcGF0Y2hfYWRkciA9ICh1MzIgKikodGV4dF9wb2tlX2Fk
ZHIgKyBvZmZzZXRfaW5fcGFnZShhZGRyKSk7DQo+ICAgDQo+ICAgCXB0ZSA9IGdldF9sb2NrZWRf
cHRlKHBhdGNoaW5nX21tLCB0ZXh0X3Bva2VfYWRkciwgJnB0bCk7DQo+ICAgCWlmICghcHRlKQ0K
PiAgIAkJcmV0dXJuIC1FTk9NRU07DQo+ICAgDQo+IC0JX19zZXRfcHRlX2F0KHBhdGNoaW5nX21t
LCB0ZXh0X3Bva2VfYWRkciwgcHRlLCBwZm5fcHRlKHBmbiwgUEFHRV9LRVJORUwpLCAwKTsNCj4g
KwllbmQgPSAodm9pZCAqKWFkZHIgKyBsZW47DQo+ICsJZG8gew0KPiArCQlwZm4gPSBnZXRfcGF0
Y2hfcGZuKGFkZHIpOw0KPiArCQlfX3NldF9wdGVfYXQocGF0Y2hpbmdfbW0sIHRleHRfcG9rZV9h
ZGRyLCBwdGUsIHBmbl9wdGUocGZuLCBQQUdFX0tFUk5FTCksIDApOw0KPiAgIA0KPiAtCS8qIG9y
ZGVyIFBURSB1cGRhdGUgYmVmb3JlIHVzZSwgYWxzbyBzZXJ2ZXMgYXMgdGhlIGh3c3luYyAqLw0K
PiAtCWFzbSB2b2xhdGlsZSgicHRlc3luYyI6IDogOiJtZW1vcnkiKTsNCj4gLQ0KPiAtCS8qIG9y
ZGVyIGNvbnRleHQgc3dpdGNoIGFmdGVyIGFyYml0cmFyeSBwcmlvciBjb2RlICovDQo+IC0JaXN5
bmMoKTsNCj4gLQ0KPiAtCW9yaWdfbW0gPSBzdGFydF91c2luZ190ZW1wX21tKHBhdGNoaW5nX21t
KTsNCj4gLQ0KPiAtCWVyciA9IF9fcGF0Y2hfaW5zdHJ1Y3Rpb24oYWRkciwgaW5zdHIsIHBhdGNo
X2FkZHIpOw0KPiArCQkvKiBvcmRlciBQVEUgdXBkYXRlIGJlZm9yZSB1c2UsIGFsc28gc2VydmVz
IGFzIHRoZSBod3N5bmMgKi8NCj4gKwkJYXNtIHZvbGF0aWxlKCJwdGVzeW5jIjogOiA6Im1lbW9y
eSIpOw0KPiAgIA0KPiAtCS8qIGh3c3luYyBwZXJmb3JtZWQgYnkgX19wYXRjaF9pbnN0cnVjdGlv
biAoc3luYykgaWYgc3VjY2Vzc2Z1bCAqLw0KPiAtCWlmIChlcnIpDQo+IC0JCW1iKCk7ICAvKiBz
eW5jICovDQo+ICsJCS8qIG9yZGVyIGNvbnRleHQgc3dpdGNoIGFmdGVyIGFyYml0cmFyeSBwcmlv
ciBjb2RlICovDQo+ICsJCWlzeW5jKCk7DQo+ICsNCj4gKwkJb3JpZ19tbSA9IHN0YXJ0X3VzaW5n
X3RlbXBfbW0ocGF0Y2hpbmdfbW0pOw0KPiArDQo+ICsJCXBhdGNoX2FkZHIgPSAodTMyICopKHRl
eHRfcG9rZV9hZGRyICsgb2Zmc2V0X2luX3BhZ2UoYWRkcikpOw0KPiArCQlwZW5kID0gKHZvaWQg
KilhZGRyICsgUEFHRV9TSVpFIC0gb2Zmc2V0X2luX3BhZ2UoYWRkcik7DQo+ICsJCWlmIChlbmQg
PCBwZW5kKQ0KPiArCQkJcGVuZCA9IGVuZDsNCj4gKw0KPiArCQl3aGlsZSAoYWRkciA8IHBlbmQp
IHsNCj4gKwkJCWluc3RyID0gcHBjX2luc3RfcmVhZChjb2RlKTsNCj4gKwkJCWlsZW4gPSBwcGNf
aW5zdF9sZW4oaW5zdHIpOw0KPiArCQkJZXJyID0gX19wYXRjaF9pbnN0cnVjdGlvbihhZGRyLCBp
bnN0ciwgcGF0Y2hfYWRkcik7DQo+ICsJCQkvKiBod3N5bmMgcGVyZm9ybWVkIGJ5IF9fcGF0Y2hf
aW5zdHJ1Y3Rpb24gKHN5bmMpIGlmIHN1Y2Nlc3NmdWwgKi8NCg0KQXMgeW91IGFpbSBhdCBvcHRp
bWlzaW5nIHRoZSBsb29wcywgeW91IHNob3VsZCBiZWZvcmUgY2FjaGUgZmx1c2hlZCANCm91dHNp
ZGUgdGhpcyBsb29wLCB3aXRoIGZsdXNoX2RjYWNoZV9yYW5nZSgpIGFuZCBpbnZhbGlkYXRlX2Rj
YWNoZV9yYW5nZSgpLg0KDQo+ICsJCQlpZiAoZXJyKSB7DQo+ICsJCQkJbWIoKTsgIC8qIHN5bmMg
Ki8NCj4gKwkJCQlicmVhazsNCj4gKwkJCX0NCj4gKw0KPiArCQkJcGF0Y2hfYWRkciA9ICh2b2lk
ICopcGF0Y2hfYWRkciArIGlsZW47DQo+ICsJCQlhZGRyID0gKHZvaWQgKilhZGRyICsgaWxlbjsN
Cg0KU28gcGF0Y2hfYWRkciBhbmQgYWRkciBhcmUgdTMyKiwgaWxlbiBpcyBlaXRoZXIgNCBvciA4
LCBhbmQgeW91IGNhc3QgdG8gDQp2b2lkIHRvIGRvIHRoZSBtYXRoID8gVGhhdCBsb29rcyBvZGQg
YW5kIGVycm9yIHByb25lLg0KDQo+ICsJCQlpZiAoIWZpbGxfaW5zdCkNCj4gKwkJCQljb2RlID0g
KHZvaWQgKiljb2RlICsgaWxlbjsNCj4gKwkJfQ0KPiAgIA0KPiAtCS8qIGNvbnRleHQgc3luY2hy
b25pc2F0aW9uIHBlcmZvcm1lZCBieSBfX3BhdGNoX2luc3RydWN0aW9uIChpc3luYyBvciBleGNl
cHRpb24pICovDQo+IC0Jc3RvcF91c2luZ190ZW1wX21tKHBhdGNoaW5nX21tLCBvcmlnX21tKTsN
Cj4gKwkJLyogY29udGV4dCBzeW5jaHJvbmlzYXRpb24gcGVyZm9ybWVkIGJ5IF9fcGF0Y2hfaW5z
dHJ1Y3Rpb24gKGlzeW5jIG9yIGV4Y2VwdGlvbikgKi8NCj4gKwkJc3RvcF91c2luZ190ZW1wX21t
KHBhdGNoaW5nX21tLCBvcmlnX21tKTsNCj4gICANCj4gLQlwdGVfY2xlYXIocGF0Y2hpbmdfbW0s
IHRleHRfcG9rZV9hZGRyLCBwdGUpOw0KPiAtCS8qDQo+IC0JICogcHRlc3luYyB0byBvcmRlciBQ
VEUgdXBkYXRlIGJlZm9yZSBUTEIgaW52YWxpZGF0aW9uIGRvbmUNCj4gLQkgKiBieSByYWRpeF9f
bG9jYWxfZmx1c2hfdGxiX3BhZ2VfcHNpemUgKGluIF90bGJpZWxfdmEpDQo+IC0JICovDQo+IC0J
bG9jYWxfZmx1c2hfdGxiX3BhZ2VfcHNpemUocGF0Y2hpbmdfbW0sIHRleHRfcG9rZV9hZGRyLCBt
bXVfdmlydHVhbF9wc2l6ZSk7DQo+ICsJCXB0ZV9jbGVhcihwYXRjaGluZ19tbSwgdGV4dF9wb2tl
X2FkZHIsIHB0ZSk7DQo+ICsJCS8qDQo+ICsJCSAqIHB0ZXN5bmMgdG8gb3JkZXIgUFRFIHVwZGF0
ZSBiZWZvcmUgVExCIGludmFsaWRhdGlvbiBkb25lDQo+ICsJCSAqIGJ5IHJhZGl4X19sb2NhbF9m
bHVzaF90bGJfcGFnZV9wc2l6ZSAoaW4gX3RsYmllbF92YSkNCj4gKwkJICovDQo+ICsJCWxvY2Fs
X2ZsdXNoX3RsYl9wYWdlX3BzaXplKHBhdGNoaW5nX21tLCB0ZXh0X3Bva2VfYWRkciwgbW11X3Zp
cnR1YWxfcHNpemUpOw0KPiArCQlpZiAoZXJyKQ0KPiArCQkJYnJlYWs7DQo+ICsJfSB3aGlsZSAo
YWRkciA8IGVuZCk7DQo+ICAgDQo+ICAgCXB0ZV91bm1hcF91bmxvY2socHRlLCBwdGwpOw0KPiAg
IA0KPiAgIAlyZXR1cm4gZXJyOw0KPiAgIH0NCj4gICANCj4gLXN0YXRpYyBpbnQgX19kb19wYXRj
aF9pbnN0cnVjdGlvbih1MzIgKmFkZHIsIHBwY19pbnN0X3QgaW5zdHIpDQo+ICtzdGF0aWMgaW50
IF9fZG9fcGF0Y2hfaW5zdHJ1Y3Rpb25zKHUzMiAqYWRkciwgdTMyICpjb2RlLCBib29sIGZpbGxf
aW5zdCwgc2l6ZV90IGxlbikNCj4gICB7DQo+IC0JaW50IGVycjsNCj4gLQl1MzIgKnBhdGNoX2Fk
ZHI7DQo+IC0JdW5zaWduZWQgbG9uZyB0ZXh0X3Bva2VfYWRkcjsNCj4gKwl1bnNpZ25lZCBsb25n
IHRleHRfcG9rZV9hZGRyLCBwZm47DQo+ICsJdTMyICpwYXRjaF9hZGRyLCAqZW5kLCAqcGVuZDsN
Cj4gKwlwcGNfaW5zdF90IGluc3RyOw0KPiArCWludCBpbGVuLCBlcnI7DQo+ICAgCXB0ZV90ICpw
dGU7DQo+IC0JdW5zaWduZWQgbG9uZyBwZm4gPSBnZXRfcGF0Y2hfcGZuKGFkZHIpOw0KPiAgIA0K
PiAgIAl0ZXh0X3Bva2VfYWRkciA9ICh1bnNpZ25lZCBsb25nKV9fdGhpc19jcHVfcmVhZChjcHVf
cGF0Y2hpbmdfY29udGV4dC5hZGRyKSAmIFBBR0VfTUFTSzsNCj4gLQlwYXRjaF9hZGRyID0gKHUz
MiAqKSh0ZXh0X3Bva2VfYWRkciArIG9mZnNldF9pbl9wYWdlKGFkZHIpKTsNCj4gLQ0KPiAgIAlw
dGUgPSBfX3RoaXNfY3B1X3JlYWQoY3B1X3BhdGNoaW5nX2NvbnRleHQucHRlKTsNCj4gLQlfX3Nl
dF9wdGVfYXQoJmluaXRfbW0sIHRleHRfcG9rZV9hZGRyLCBwdGUsIHBmbl9wdGUocGZuLCBQQUdF
X0tFUk5FTCksIDApOw0KPiAtCS8qIFNlZSBwdGVzeW5jIGNvbW1lbnQgaW4gcmFkaXhfX3NldF9w
dGVfYXQoKSAqLw0KPiAtCWlmIChyYWRpeF9lbmFibGVkKCkpDQo+IC0JCWFzbSB2b2xhdGlsZSgi
cHRlc3luYyI6IDogOiJtZW1vcnkiKTsNCj4gICANCj4gLQllcnIgPSBfX3BhdGNoX2luc3RydWN0
aW9uKGFkZHIsIGluc3RyLCBwYXRjaF9hZGRyKTsNCj4gKwllbmQgPSAodm9pZCAqKWFkZHIgKyBs
ZW47DQo+ICsJZG8gew0KPiArCQlwZm4gPSBnZXRfcGF0Y2hfcGZuKGFkZHIpOw0KPiArCQlfX3Nl
dF9wdGVfYXQoJmluaXRfbW0sIHRleHRfcG9rZV9hZGRyLCBwdGUsIHBmbl9wdGUocGZuLCBQQUdF
X0tFUk5FTCksIDApOw0KPiArCQkvKiBTZWUgcHRlc3luYyBjb21tZW50IGluIHJhZGl4X19zZXRf
cHRlX2F0KCkgKi8NCj4gKwkJaWYgKHJhZGl4X2VuYWJsZWQoKSkNCj4gKwkJCWFzbSB2b2xhdGls
ZSgicHRlc3luYyI6IDogOiJtZW1vcnkiKTsNCj4gKw0KPiArCQlwYXRjaF9hZGRyID0gKHUzMiAq
KSh0ZXh0X3Bva2VfYWRkciArIG9mZnNldF9pbl9wYWdlKGFkZHIpKTsNCj4gKwkJcGVuZCA9ICh2
b2lkICopYWRkciArIFBBR0VfU0laRSAtIG9mZnNldF9pbl9wYWdlKGFkZHIpOw0KPiArCQlpZiAo
ZW5kIDwgcGVuZCkNCj4gKwkJCXBlbmQgPSBlbmQ7DQo+ICsNCj4gKwkJd2hpbGUgKGFkZHIgPCBw
ZW5kKSB7DQo+ICsJCQlpbnN0ciA9IHBwY19pbnN0X3JlYWQoY29kZSk7DQo+ICsJCQlpbGVuID0g
cHBjX2luc3RfbGVuKGluc3RyKTsNCj4gKwkJCWVyciA9IF9fcGF0Y2hfaW5zdHJ1Y3Rpb24oYWRk
ciwgaW5zdHIsIHBhdGNoX2FkZHIpOw0KPiArCQkJaWYgKGVycikNCj4gKwkJCQlicmVhazsNCj4g
Kw0KPiArCQkJcGF0Y2hfYWRkciA9ICh2b2lkICopcGF0Y2hfYWRkciArIGlsZW47DQo+ICsJCQlh
ZGRyID0gKHZvaWQgKilhZGRyICsgaWxlbjsNCj4gKwkJCWlmICghZmlsbF9pbnN0KQ0KPiArCQkJ
CWNvZGUgPSAodm9pZCAqKWNvZGUgKyBpbGVuOw0KPiArCQl9DQo+ICAgDQo+IC0JcHRlX2NsZWFy
KCZpbml0X21tLCB0ZXh0X3Bva2VfYWRkciwgcHRlKTsNCj4gLQlmbHVzaF90bGJfa2VybmVsX3Jh
bmdlKHRleHRfcG9rZV9hZGRyLCB0ZXh0X3Bva2VfYWRkciArIFBBR0VfU0laRSk7DQo+ICsJCXB0
ZV9jbGVhcigmaW5pdF9tbSwgdGV4dF9wb2tlX2FkZHIsIHB0ZSk7DQo+ICsJCWZsdXNoX3RsYl9r
ZXJuZWxfcmFuZ2UodGV4dF9wb2tlX2FkZHIsIHRleHRfcG9rZV9hZGRyICsgUEFHRV9TSVpFKTsN
Cj4gKwkJaWYgKGVycikNCj4gKwkJCWJyZWFrOw0KPiArCX0gd2hpbGUgKGFkZHIgPCBlbmQpOw0K
PiAgIA0KPiAgIAlyZXR1cm4gZXJyOw0KPiAgIH0NCj4gQEAgLTM2OSwxNSArNDA5LDM0IEBAIGlu
dCBwYXRjaF9pbnN0cnVjdGlvbih1MzIgKmFkZHIsIHBwY19pbnN0X3QgaW5zdHIpDQo+ICAgDQo+
ICAgCWxvY2FsX2lycV9zYXZlKGZsYWdzKTsNCj4gICAJaWYgKG1tX3BhdGNoX2VuYWJsZWQoKSkN
Cj4gLQkJZXJyID0gX19kb19wYXRjaF9pbnN0cnVjdGlvbl9tbShhZGRyLCBpbnN0cik7DQo+ICsJ
CWVyciA9IF9fZG9fcGF0Y2hfaW5zdHJ1Y3Rpb25zX21tKGFkZHIsICh1MzIgKikmaW5zdHIsIGZh
bHNlLCBwcGNfaW5zdF9sZW4oaW5zdHIpKTsNCg0KRG8gbm90IG1peC11cCB1MzIqIGFuZCBwcGNf
aW5zdF90LCB0aGV5IGFyZSBub3QgZXF1aXZhbGVudCwgZG8gbm90IGNhc3QgDQpvbmUgdG8gdGhl
IG90aGVyLg0KDQo+ICAgCWVsc2UNCj4gLQkJZXJyID0gX19kb19wYXRjaF9pbnN0cnVjdGlvbihh
ZGRyLCBpbnN0cik7DQo+ICsJCWVyciA9IF9fZG9fcGF0Y2hfaW5zdHJ1Y3Rpb25zKGFkZHIsICh1
MzIgKikmaW5zdHIsIGZhbHNlLCBwcGNfaW5zdF9sZW4oaW5zdHIpKTsNCg0KU2FtZS4NCg0KPiAg
IAlsb2NhbF9pcnFfcmVzdG9yZShmbGFncyk7DQo+ICAgDQo+ICAgCXJldHVybiBlcnI7DQo+ICAg
fQ0KPiAgIE5PS1BST0JFX1NZTUJPTChwYXRjaF9pbnN0cnVjdGlvbik7DQo+ICAgDQo+ICsvKg0K
PiArICogUGF0Y2ggJ2FkZHInIHdpdGggJ2xlbicgYnl0ZXMgb2YgaW5zdHJ1Y3Rpb25zIGZyb20g
J2NvZGUnLg0KPiArICovDQo+ICtpbnQgcGF0Y2hfaW5zdHJ1Y3Rpb25zKHUzMiAqYWRkciwgdTMy
ICpjb2RlLCBib29sIGZpbGxfaW5zdCwgc2l6ZV90IGxlbikNCj4gK3sNCj4gKwl1bnNpZ25lZCBs
b25nIGZsYWdzOw0KPiArCWludCBlcnI7DQo+ICsNCj4gKwlsb2NhbF9pcnFfc2F2ZShmbGFncyk7
DQoNCldvbid0IHRoZSBpcnEgbG9jayBiZSBhIGJpdCBsb25nID8NCg0KPiArCWlmIChtbV9wYXRj
aF9lbmFibGVkKCkpDQo+ICsJCWVyciA9IF9fZG9fcGF0Y2hfaW5zdHJ1Y3Rpb25zX21tKGFkZHIs
IGNvZGUsIGZpbGxfaW5zdCwgbGVuKTsNCj4gKwllbHNlDQo+ICsJCWVyciA9IF9fZG9fcGF0Y2hf
aW5zdHJ1Y3Rpb25zKGFkZHIsIGNvZGUsIGZpbGxfaW5zdCwgbGVuKTsNCj4gKwlsb2NhbF9pcnFf
cmVzdG9yZShmbGFncyk7DQo+ICsNCj4gKwlyZXR1cm4gZXJyOw0KPiArfQ0KPiArTk9LUFJPQkVf
U1lNQk9MKHBhdGNoX2luc3RydWN0aW9ucyk7DQo+ICsNCj4gICBpbnQgcGF0Y2hfYnJhbmNoKHUz
MiAqYWRkciwgdW5zaWduZWQgbG9uZyB0YXJnZXQsIGludCBmbGFncykNCj4gICB7DQo+ICAgCXBw
Y19pbnN0X3QgaW5zdHI7DQo=
