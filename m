Return-Path: <bpf-owner@vger.kernel.org>
X-Original-To: lists+bpf@lfdr.de
Delivered-To: lists+bpf@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 183F7456F21
	for <lists+bpf@lfdr.de>; Fri, 19 Nov 2021 13:54:26 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S234705AbhKSM50 (ORCPT <rfc822;lists+bpf@lfdr.de>);
        Fri, 19 Nov 2021 07:57:26 -0500
Received: from us-smtp-delivery-124.mimecast.com ([170.10.133.124]:40248 "EHLO
        us-smtp-delivery-124.mimecast.com" rhost-flags-OK-OK-OK-OK)
        by vger.kernel.org with ESMTP id S234695AbhKSM5Z (ORCPT
        <rfc822;bpf@vger.kernel.org>); Fri, 19 Nov 2021 07:57:25 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
        s=mimecast20190719; t=1637326463;
        h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
         to:to:cc:cc:mime-version:mime-version:content-type:content-type:
         in-reply-to:in-reply-to:references:references;
        bh=tr40Sr+qZMyNTjT5CMNyysFz2h1enHkACWZJul0D2y4=;
        b=Al9a8rtmlpb8DdUY9ngeVxWqR2wEqmcfUDFC3hcLFjSIsDx4ZWfRp+NEBnRx+rO5hsgA2N
        oN/cyIktOO7zyfRnZsJ+i9sPJYVKUMDrnva7trmJWvicS4sjPuc4Z0uIzGQohVouwJstx6
        4BRGM2R0Ux0khgitxqTr35056+lNWvw=
Received: from mail-ed1-f71.google.com (mail-ed1-f71.google.com
 [209.85.208.71]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 us-mta-366-HdW-fw3wMZa4hChq_Q9yhQ-1; Fri, 19 Nov 2021 07:54:22 -0500
X-MC-Unique: HdW-fw3wMZa4hChq_Q9yhQ-1
Received: by mail-ed1-f71.google.com with SMTP id t9-20020aa7d709000000b003e83403a5cbso6355320edq.19
        for <bpf@vger.kernel.org>; Fri, 19 Nov 2021 04:54:22 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=x-gm-message-state:from:to:cc:subject:in-reply-to:references:date
         :message-id:mime-version;
        bh=tr40Sr+qZMyNTjT5CMNyysFz2h1enHkACWZJul0D2y4=;
        b=0VW5AcN4R6UxRVUTt+g9ovfOy0hyPjvQHXENft7HgywqGx4lg3lZesehlO45pUMbXd
         5Vt+MnM9m9krEziQ6JXraFhdYH0I5hchGmP2X7GBO9Gqeyenv2IEMUAJGh4P+TTAUG+J
         tj9iCe0jS5SNhtc6eGsY2WbQPNCqJN6mIgwjiICjZg0uINsOsOyRGYL6g535GGu3dwHJ
         wYS8GStuQ9OIkAbk9Ymid/FAEyw8qE6WWR+mKqsZhD7GE9Gjq4dTgrXlNRvhWxA8F3Xj
         Vxzam9GizmAGdVBe87fcSvlqrtvpIa+XCUUxNN4Ofv4gFvntN18uunpS2vAGAo/3JJGr
         4uzA==
X-Gm-Message-State: AOAM531NU+rbwgSrXrlGo+f6/v4lJqhIul5rloO4wZm5hhWvugKKbVVG
        0MgxhInOeoKLy+cQBnnnF2zufmcGpY58qkIXwwtCfertGQRACow2ScmQsePF+HKkV+JG8/5CYWH
        t4NMerLAAhFJ9
X-Received: by 2002:a17:906:b2c7:: with SMTP id cf7mr7757630ejb.303.1637326460983;
        Fri, 19 Nov 2021 04:54:20 -0800 (PST)
X-Google-Smtp-Source: ABdhPJxRa4V8Cz9ajPEpKUcCnt29QFHSSmpW1Fonv8oiuB/Xs2yX8wV4k5ehd92RSsxp/4Vz5E7YNQ==
X-Received: by 2002:a17:906:b2c7:: with SMTP id cf7mr7757572ejb.303.1637326460596;
        Fri, 19 Nov 2021 04:54:20 -0800 (PST)
Received: from alrua-x1.borgediget.toke.dk ([45.145.92.2])
        by smtp.gmail.com with ESMTPSA id g11sm1518295edz.53.2021.11.19.04.54.19
        (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
        Fri, 19 Nov 2021 04:54:19 -0800 (PST)
Received: by alrua-x1.borgediget.toke.dk (Postfix, from userid 1000)
        id 3D747180270; Fri, 19 Nov 2021 13:54:19 +0100 (CET)
From:   Toke =?utf-8?Q?H=C3=B8iland-J=C3=B8rgensen?= <toke@redhat.com>
To:     Martin Kelly <martin.kelly@crowdstrike.com>,
        "andrii.nakryiko@gmail.com" <andrii.nakryiko@gmail.com>
Cc:     "daniel@iogearbox.net" <daniel@iogearbox.net>,
        "bpf@vger.kernel.org" <bpf@vger.kernel.org>,
        "ast@kernel.org" <ast@kernel.org>,
        "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        "kernel-team@fb.com" <kernel-team@fb.com>,
        "davem@davemloft.net" <davem@davemloft.net>,
        "andrii@kernel.org" <andrii@kernel.org>
Subject: RE: Re: Re: Clarification on bpftool dual licensing
In-Reply-To: <cb8074f8c8554ca480d6bb57f79535fc@crowdstrike.com>
References: <cb8074f8c8554ca480d6bb57f79535fc@crowdstrike.com>
X-Clacks-Overhead: GNU Terry Pratchett
Date:   Fri, 19 Nov 2021 13:54:19 +0100
Message-ID: <87czmwe26c.fsf@toke.dk>
MIME-Version: 1.0
Content-Type: text/plain
Precedence: bulk
List-ID: <bpf.vger.kernel.org>
X-Mailing-List: bpf@vger.kernel.org

Martin Kelly <martin.kelly@crowdstrike.com> writes:

>> > One other, related question: vmlinux.h (generated by "bpftool btf dump file
>> /sys/kernel/btf/vmlinux format c"), does not currently contain a license
>> declaration. I assume this would have to be a GPL header, since vmlinux.h
>> references many GPL'd Linux kernel structs and similar, though again I'm not a
>> lawyer and therefore am not certain. Would you all agree with this? If so, any
>> objection to a patch adding an SPDX line to the generated vmlinux.h?
>>
>> Is vmlinux DWARF data GPL'ed? I certainly hope not. So vmlinux.h
>> shouldn't be licensed under GPL.
>
> I have no idea; I had assumed that a struct definition coming from a
> GPL-licensed header would have to be GPL, but again, not a lawyer, and
> I could totally be wrong. If not GPL though, what would the license
> be? Is it just "output of a program" and therefore license-less, even
> though the output happens to be code?

Totally not a lawyer either, but:

There's (generally, in many jurisdictions, etc), a minimum bar for when
something is considered a "creative work" and thus copyrightable. Debug
output *could* fall short of this (and thus not be copyrightable at
all). It could also fall under the same "API" umbrella as that famous
Google v Oracle case. Or it could fall under the "syscall exception" of
the kernel source.

I guess it would take a court decision to know either way. IMO it would
make sense if vmlinux.h is not copyrightable for whatever reason, but,
again, IANAL :)

Anyway, while we obviously can't resolve legal matters on the mailing,
we can express the *intention* of the community, which is what the
licensing document is trying to do. So it totally makes sense to mention
vmlinux.h here; the question is what should such a text say?

-Toke

